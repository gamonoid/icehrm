<?php
/*   __________________________________________________
    |  Obfuscated by YAK Pro - Php Obfuscator  2.0.14  |
    |              on 2026-02-12 00:51:51              |
    |    GitHub: https://github.com/pk-fr/yakpro-po    |
    |__________________________________________________|
*/
/*

*/
 namespace MarketplaceAdmin; use Classes\BaseService; use Classes\DatabaseCache; use Classes\IceResponse; class ExtensionData { const SYSTEM_DATA_KEY_MY_EXTENSIONS = "\x6d\x61\162\153\145\x74\x70\154\141\x63\145\72\155\x79\x5f\145\170\164\145\x6e\x73\x69\157\156\163"; const CACHE_KEY_LICENSE_PREFIX = "\x6d\141\162\x6b\145\164\x70\154\141\143\x65\x3a\154\x69\x63\145\156\x73\145\72"; const CACHE_TTL_1_DAY = 86400; public static function verify($code, $message) { goto g0qS0; rj9sk: kspkc: goto ZtZmF; g0qS0: if (!(defined("\x49\123\137\103\114\117\125\104") && true === IS_CLOUD)) { goto kspkc; } goto CQOeo; HcXIr: return new IceResponse(IceResponse::ERROR, $errorMessage); goto rugtu; pH2Oo: return new IceResponse(IceResponse::SUCCESS); goto HP4jI; cMSbY: $errorMessage = "\x4c\151\x63\145\156\163\145\40\x52\x65\161\165\151\x72\x65\144\x3a\40{$message}\40\x59\x6f\x75\162\x20\154\x69\x63\145\x6e\163\145\x20\x66\x6f\162\x20\x74\x68\x69\163\x20\x65\170\164\145\x6e\163\x69\157\156\40\150\141\163\x20\145\170\160\151\162\145\144\40\x6f\x72\x20\x69\163\40\156\x6f\164\40\x61\x63\164\x69\x76\x65\56\40\120\x6c\145\141\x73\x65\x20\160\x75\x72\143\150\x61\x73\145\x20\x61\x20\156\145\x77\x20\x6c\x69\x63\x65\156\x73\145\x20\x6f\x72\40\162\x65\x6e\145\167\40\171\x6f\165\x72\40\145\170\x69\163\164\x69\x6e\x67\40\x6c\x69\x63\145\x6e\x73\145\x20\x74\x6f\x20\143\x6f\156\164\151\156\165\x65\x2e\x20\126\151\x65\167\x20\x79\x6f\165\162\x20\x6c\151\143\x65\156\163\145\163\40\x61\164\40\123\171\163\x74\x65\x6d\x20\76\x20\115\x61\162\153\x65\x74\x70\x6c\x61\143\x65\40\x3e\x20\115\x79\40\x50\165\162\x63\150\141\x73\145\x73\56"; goto HcXIr; ZtZmF: $res = self::hasActiveLicense($code); goto WxgL0; CQOeo: return new IceResponse(IceResponse::SUCCESS); goto rj9sk; WxgL0: if ($res) { goto MpZPg; } goto cMSbY; rugtu: MpZPg: goto pH2Oo; HP4jI: } public static function hasActiveLicense($code) { goto gtxGI; Atczc: if (!(empty($extensions) || !is_array($extensions))) { goto hGpXw; } goto rV1vP; es356: r1Tiz: goto UZjNB; gtxGI: if (!empty($code)) { goto bx18z; } goto R1LUm; rV1vP: return true; goto a4kxo; vYaPR: $cache->set($cacheKey, $hasActive, self::CACHE_TTL_1_DAY); goto KHZcZ; mx_PT: foreach ($extensions as $extension) { goto JwS50; srVKv: goto r1Tiz; goto SFcl1; Ge1_9: $hasActive = true; goto srVKv; MYsq3: if (!($directory === $code && $isExpired === false)) { goto H6JkX; } goto Ge1_9; qpumf: $isExpired = $extension["\x69\163\137\x65\x78\x70\151\x72\x65\144"] ?? true; goto MYsq3; janB6: goto y2jE_; goto R3olG; QkxCa: $directory = $extension["\144\x69\x72\145\x63\x74\x6f\162\171"] ?? ''; goto qpumf; SFcl1: H6JkX: goto Cte59; JwS50: if (is_array($extension)) { goto vY_55; } goto janB6; Cte59: y2jE_: goto qo3_w; R3olG: vY_55: goto QkxCa; qo3_w: } goto es356; YnEsO: $cached = $cache->get($cacheKey); goto nsUy1; XJILd: return $hasActive; goto A7_Pn; UZjNB: if (!$hasActive) { goto bw9AJ; } goto vYaPR; a4kxo: hGpXw: goto JemSR; R1LUm: return false; goto dSCDM; MeZnZ: $cache = DatabaseCache::getInstance(); goto pjoSK; nsUy1: if (!($cached !== null)) { goto QPID_; } goto o2xiE; sG_Ic: QPID_: goto xF2Qh; xF2Qh: $extensions = BaseService::getInstance()->getSystemData(self::SYSTEM_DATA_KEY_MY_EXTENSIONS); goto Atczc; KHZcZ: bw9AJ: goto XJILd; pjoSK: $cacheKey = self::CACHE_KEY_LICENSE_PREFIX . $code; goto YnEsO; dSCDM: bx18z: goto MeZnZ; o2xiE: return $cached === true; goto sG_Ic; JemSR: $hasActive = false; goto mx_PT; A7_Pn: } public static function getActiveLicense($code) { goto eM6Dr; qg521: iwf4O: goto mqb_w; mTos8: return null; goto BLgg1; JVrYv: cxuL7: goto mTos8; YE7sr: XWDja: goto muz6m; muz6m: $extensions = BaseService::getInstance()->getSystemData(self::SYSTEM_DATA_KEY_MY_EXTENSIONS); goto DmUdH; DmUdH: if (!(empty($extensions) || !is_array($extensions))) { goto iwf4O; } goto RGO9x; RGO9x: return null; goto qg521; mqb_w: foreach ($extensions as $extension) { goto C0kTB; yLMjW: return $extension; goto lHYeY; qkQUS: $directory = $extension["\x64\x69\x72\x65\143\164\x6f\162\171"] ?? ''; goto c3Juh; C0kTB: if (is_array($extension)) { goto GEudg; } goto mskRi; t7hv9: if (!($directory === $code && $isExpired === false)) { goto eMZS1; } goto yLMjW; c3Juh: $isExpired = $extension["\151\163\x5f\x65\x78\x70\151\x72\x65\x64"] ?? true; goto t7hv9; mskRi: goto CAwcf; goto nEdU5; nEdU5: GEudg: goto qkQUS; lHYeY: eMZS1: goto gVAY0; gVAY0: CAwcf: goto Z3pIG; Z3pIG: } goto JVrYv; eM6Dr: if (!empty($code)) { goto XWDja; } goto m1W0r; m1W0r: return null; goto YE7sr; BLgg1: } }
